<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>mTouch Framework: Version Change Log</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="main.html">main</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Version Change Log </h1>  </div>
</div>
<div class="contents">
<h2><a class="anchor" id="cl0203"></a>
Version 2.3</h2>
<ul>
<li>Bug Fixes: <ul>
<li>
Additional mComm register labels have been implemented that were previously missed. The labels can still be editted from the <a class="el" href="m_comm__config_8h.html" title="mComm Configuration! Main configuration file for the mComm module.">mComm_config.h</a> file. There are now no known issues with using the 2nd or 3rd UART or I2C module. </li>
<li>
The Hardware CVD acquisition file now correctly reloads the AADCAP value for each sensor regardless of the whether it is called out of the main loop or the ISR. </li>
<li>
The Hardware CVD acquisition file now correctly calibrates the AADCAP value for the amount of capacitance seen on the pin. </li>
</ul>
</li>
<li>Reordered aquisition scanning to resolve issues with multiple scanning modes and unique oversampling values. The scan for one sensor is now always performed in one single interrupt. Previously the framework would interleave the scans of one sensor with the math of the previous - now the math and the scans are performed at the same time. </li>
<li>Removed support for PIC16F72x family due to reduced sensitivity of the 8-bit ADC. </li>
<li>Several unnecessary interrupt variables have been removed to save space. </li>
<li>PIC12LF1552 32MHz Fosc support added. </li>
<li>PIC16F1508/9 UART support added.</li>
</ul>
<h2><a class="anchor" id="cl0202"></a>
Version 2.2</h2>
<ul>
<li>Bug Fixes: <ul>
<li>
Sensors' oversampling counter variable now only updates if a scan occurred. </li>
<li>
Unique oversampling values enabled for only one sensor is now gracefully handled without throwing errors. </li>
<li>
I2C slave no longer occasionally fails to execute write operations. </li>
</ul>
</li>
<li>Added support for hardware CVD handling </li>
<li>Demo <a class="el" href="main_8c.html" title="Example implementation of the mTouch Framework&#39;s API calls.">main.c</a> files now have a few additional if blocks to reduce compile-time errors when minor configuration changes are made. </li>
<li>Solved a compile-time-error bug with PIC16F72x devices when running at 16MHz </li>
<li>Added device support: <ul>
<li>
PIC16(L)F1501/3 </li>
<li>
PIC16(L)F1512/3 </li>
<li>
PIC12(L)F1552 </li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="cl0201"></a>
Version 2.1</h2>
<ul>
<li>Enabling a non-TMR0 timer will now also automatically enable the PEIE bit for automatic interrupt use (<a class="el" href="m_touch_8c.html" title="Implements the post-acquisition filtering and decoding of the mTouch sensors.">mTouch.c</a>) </li>
<li>Default one-way communications now supports the updated Profilab GUI supplied with this framework package (<a class="el" href="m_comm__config_8h.html" title="mComm Configuration! Main configuration file for the mComm module.">mComm_config.h</a> / <a class="el" href="m_comm_8c.html">mComm.c</a>) </li>
<li>Configuration values can now be stored in RAM (mTouch_configOptions) instead of EEPROM for use in the two-way communications. See MTOUCH_EEPROM_STORED_AS_RAM in <a class="el" href="m_touch__config_8h.html" title="Framework Configuration! Main configuration file for the mTouch Framework.">mTouch_config.h</a> </li>
<li>Individual the oversampling array initialization has been changed to automatically adjust its size based on MTOUCH_NUMBER_SENSORS (<a class="el" href="m_touch__acquisition_8c.html" title="Implements scanning procedure for the framework which performs the mTouch acquisition and provides an...">mTouch_acquisition.c</a>) </li>
<li>When mTouch controls the ISR, it will now correctly exit from the function if the mTouch timer was not responsible for the interrupt (<a class="el" href="m_touch__acquisition_8c.html" title="Implements scanning procedure for the framework which performs the mTouch acquisition and provides an...">mTouch_acquisition.c</a>) </li>
<li>Fixed an issue with the DAC configuration in the hardware profiles of the 182x and 184x families </li>
<li>Fixed a bug with the initial EEPROM byte check - previously the EEPROM would revert to factory settings on reset. (<a class="el" href="m_touch__eeprom_8c.html">mTouch_eeprom.c</a>) </li>
<li>Fixed the mTouch_ClearToggle(i) API macro: Logical 'not' (<b>!</b>) changed to bit-wise 'not' (<b>~</b>).</li>
</ul>
<h2><a class="anchor" id="cl0200"></a>
Version 2.0</h2>
<ul>
<li>Added support for a large number of processors. Refer to this documentations '<a class="el" href="_resource_requirements.html#PICSupport">Resource Requirements</a>' page for a full listing. </li>
<li>The acquisition module has been reworked for added efficiency. <ul>
<li>
The assembly-coded jump table has been replaced with a compiler-generated look-up table. </li>
<li>
The 'scan a' and 'scan b' portions of each sensor's mTouch waveform are dedicated functions that are dynamically generated at compile-time by the preprocessor macros. This eliminates the previous limitation on the number of sensors due to the rising length of the single mTouch acquisition function. </li>
<li>
Individual oversampling values can be enabled from the <a class="el" href="m_touch__config__cvd_advanced_8h.html" title="Framework Configuration! Advanced CVD Scanning Options.">mTouch_config_cvdAdvanced.h</a> file. </li>
</ul>
</li>
<li>Structures have been implemented for a large number of mTouch variables to maximize the efficiency of RAM resources. Several previously supported processors are now able to implement more sensors due to this change. </li>
<li>New features: <ul>
<li>
<a class="el" href="feat_mode.html">Scanning modes</a> allow different sensor configurations to be scanned based on the application's state. </li>
<li>
Built-in <a class="el" href="feat_proximity.html">proximity sensor</a> support with median filter. (<a class="el" href="m_touch__config_8h.html" title="Framework Configuration! Main configuration file for the mTouch Framework.">mTouch_config.h</a>) </li>
<li>
<a class="el" href="feat_sliders.html">Sliders and wheels</a> can be implemented by editing the <a class="el" href="m_touch__config__slider_8h.html" title="Framework Configuration! Slider and Wheel Configuration Options.">mTouch_config_slider.h</a> options. Supports up to 10 sliders with 8 sensors per slider. </li>
<li>
A <a class="el" href="feat_most_pressed.html">most-pressed algorithm</a> can be implemented by uncommenting MTOUCH_MOST_PRESSED_ONLY. (<a class="el" href="m_touch__config_8h.html" title="Framework Configuration! Main configuration file for the mTouch Framework.">mTouch_config.h</a>) </li>
<li>
Toggle mode is now available by uncommenting MTOUCH_TOGGLE_ENABLED. (<a class="el" href="m_touch__config_8h.html" title="Framework Configuration! Main configuration file for the mTouch Framework.">mTouch_config.h</a>) It will toggle the output's value only when it detects a new press - not when it sees a release. Example API available in <a class="el" href="main_8c.html" title="Example implementation of the mTouch Framework&#39;s API calls.">main.c</a>. </li>
<li>
<a class="el" href="feat_guard.html">Guard rings/shields</a> can be implemented using any general IO pin or through the DACOUT pin. (<a class="el" href="m_touch__config__cvd_advanced_8h.html" title="Framework Configuration! Advanced CVD Scanning Options.">mTouch_config_cvdAdvanced.h</a>) </li>
<li>
Support for <a class="el" href="feat_matrix.html">matrix configurations</a> can be implemented to automatically decode the rows and columns with debouncing and a dedicated most-pressed algorithm to ensure quality coordinate results. (<a class="el" href="m_touch__config_8h.html" title="Framework Configuration! Main configuration file for the mTouch Framework.">mTouch_config.h</a>) </li>
<li>
<a class="el" href="feat_mutual.html">Mutual coupling drives</a> can be implemented to detect increased coupling between two interconnected sensors. (<a class="el" href="m_touch__config__cvd_advanced_8h.html" title="Framework Configuration! Advanced CVD Scanning Options.">mTouch_config_cvdAdvanced.h</a>) </li>
<li>
mComm communications module added. See <a class="el" href="m_comm__config_8h.html" title="mComm Configuration! Main configuration file for the mComm module.">mComm_config.h</a> <ul>
<li>
Implements I2C, SPI, and UART two-way communications to allow changing of configuration values at run-time. </li>
<li>
Configuration options and thresholds are stored in EEPROM when this is implemented by defining MTOUCH_EEPROM_ENABLED in <a class="el" href="m_touch__config_8h.html" title="Framework Configuration! Main configuration file for the mTouch Framework.">mTouch_config.h</a> </li>
<li>
Implements 1-way UART communications in hardware or by using a software-implementation. </li>
</ul>
</li>
</ul>
</li>
<li>New configuration options: <ul>
<li>
<a class="el" href="group___configuration.html#ga10d20c06688293c970260fa55459b97d" title="Defines the manner in which the framework will integrate with the application.">MTOUCH_INTEGRATION_TYPE</a> adjusts the way the framework integrates with the application (<a class="el" href="m_touch__config_8h.html" title="Framework Configuration! Main configuration file for the mTouch Framework.">mTouch_config.h</a>) </li>
<li>
<a class="el" href="group___configuration.html#ga77ff152636db7990bcd72a1b4f35e84b" title="If the mTouch scanning routine is called from the ISR, this defines which timer&#39;s interrupt flag ...">MTOUCH_ISR_TIMER</a> changes which 8-bit timer is used for the mTouch interrupt (<a class="el" href="m_touch__config_8h.html" title="Framework Configuration! Main configuration file for the mTouch Framework.">mTouch_config.h</a>) </li>
<li>
<a class="el" href="group___configuration.html#gaf4dbe0f0b02e92689bb34a139cc9d100" title="Determines how many sensors are scanned in a single &#39;scan&#39; function call.">MTOUCH_SCAN_FUNCTIONALITY</a> alternates between scanning one sensor per interrupt or scanning all sensors once per interrupt (<a class="el" href="m_touch__config_8h.html" title="Framework Configuration! Main configuration file for the mTouch Framework.">mTouch_config.h</a>) </li>
<li>
<a class="el" href="group___configuration.html#ga313502f1aae5d5b04536dee98d32dd05" title="Determines whether or not the framework controls the ADC at all times.">MTOUCH_ADC_CONTROL</a> determines whether the framework releases the ADC after performing its scan (<a class="el" href="m_touch__config_8h.html" title="Framework Configuration! Main configuration file for the mTouch Framework.">mTouch_config.h</a>) </li>
<li>
APFCON_INITIALIZED can be used to disable "make sure you initialize" warnings on parts with APFCON registers (<a class="el" href="m_touch__config_8h.html" title="Framework Configuration! Main configuration file for the mTouch Framework.">mTouch_config.h</a>) </li>
<li>
<a class="el" href="group___configuration.html#gab9b69b71751fcec92e2744853348fc87" title="Maximum allowed change of the framework&#39;s latched mTouch result variable from a single mTouch sam...">MTOUCH_DECIMATION_MAX_STEP</a> adjusts the maximum step size for sensors while going through the decimation filter (<a class="el" href="m_touch__config_8h.html" title="Framework Configuration! Main configuration file for the mTouch Framework.">mTouch_config.h</a>) </li>
<li>
<a class="el" href="group___configuration.html#ga78c5e4af4316aaad0c0eee311b4911e9" title="Defines the number of bits to use to implement a random delay between mTouch scans.">MTOUCH_JITTER_BITS</a> adjusts the number of bits used to implement the random seed value for jittering (<a class="el" href="m_touch__config_8h.html" title="Framework Configuration! Main configuration file for the mTouch Framework.">mTouch_config.h</a>) </li>
<li>
CVD_FORCE_REF_DAC can be defined to force the CVD acquisition to use the DAC as the reference for the ADC's hold capacitor (<a class="el" href="m_touch__config__cvd_advanced_8h.html" title="Framework Configuration! Advanced CVD Scanning Options.">mTouch_config_cvdAdvanced.h</a>) </li>
</ul>
</li>
<li>Configuration option CVD_JITTER_ENABLE has been removed. To disable jittering, set the <a class="el" href="group___configuration.html#ga78c5e4af4316aaad0c0eee311b4911e9" title="Defines the number of bits to use to implement a random delay between mTouch scans.">MTOUCH_JITTER_BITS</a> value to 0. </li>
<li><a class="el" href="group___configuration.html#ga25cbd75115206e9ebd486d1eadf9e80c" title="mTouch post-scaler of reading value">MTOUCH_SCALING</a> has been adjusted to allow a larger number of scaling options. (<a class="el" href="m_touch__config_8h.html" title="Framework Configuration! Main configuration file for the mTouch Framework.">mTouch_config.h</a>)</li>
</ul>
<h2><a class="anchor" id="cl0101"></a>
Version 1.1</h2>
<ul>
<li>Non-enhanced Core Device Support </li>
<li>HI-TECH 9.81 Lite and Standard Compiler Support </li>
<li>Acquisition variable array sensor_data is now initialized to 0x47F to reduce the required initialization time </li>
<li>New configuration option <a class="el" href="group___configuration.html#ga1149ef4ad7f0ae481389693b4ef1d60f" title="Determines the amount of time provided for the external sensor and internal hold capacitor to balance...">CVD_SETTLING_DELAY</a> adjusts the amount of time the CVD acquisition will wait for the voltages on the external sensor and internal ADC hold capacitor to settle. See <a class="el" href="ts-_waveform.html">this guide</a> for more information. </li>
<li>New configuration option <a class="el" href="group___configuration.html#ga74ff5624949a8a47379e0c214cd4862f" title="Determines the amount of time provided for charging the internal hold capacitor of the ADC during the...">CVD_CHOLD_CHARGE_DELAY</a> adjusts the amount of time the CVD acquisition will wait for the voltage on the internal ADC hold capacitor to reach steady state (V<sub>DD</sub> or V<sub>SS</sub>) before connecting the two capacitors and allowing their voltages to settle. See <a class="el" href="ts-_waveform.html">this guide</a> for more information. </li>
<li>The scan order of the CVD acquisition has been reversed to ensure maximum sensitivity for larger external sensor capacitances. This means the waveform will change when viewed on a scope. See <a class="el" href="ts-_waveform.html">this guide</a> for more information. </li>
<li>GENERATE_STORAGE_FUNCTION() and GENERATE_JUMP_TABLE() macros have been redesigned with a more elegant implementation. </li>
<li>The <a class="el" href="m_touch_8h.html" title="Required include! The main framework header file used by all framework files.">mTouch.h</a> file has been split-in-two in order to accomodate the Microchip Application Libraries' directory structure. A local copy of <a class="el" href="m_touch_8h.html" title="Required include! The main framework header file used by all framework files.">mTouch.h</a> should be included in your application's includes directory. <a class="el" href="m_touch__process_configuration_8h.html" title="Internal framework header file performing many pre-compiler checks and generating predefined values f...">mTouch_processConfiguration.h</a>, the other half of the original <a class="el" href="m_touch_8h.html" title="Required include! The main framework header file used by all framework files.">mTouch.h</a> file, only needs to be available in the library folders and does not require a local copy. </li>
<li>Sensor 0's reference is now defined in the process configuration header file to help de-clutter the acquisition.c file. </li>
<li>Many documentation updates including: <ul>
<li>
New 'Optimizing Performance' sections designed to make it easier to solve common problems: <ul>
<li>
<a class="el" href="ts-_sensitivity.html">Increasing Sensitivity</a> </li>
<li>
<a class="el" href="ts-_response_time.html">Adjusting the Response Time</a> </li>
<li>
<a class="el" href="ts-_waveform.html">Tuning the CVD Waveform</a> </li>
<li>
<a class="el" href="ts-_comms.html">Establishing PC Communications</a> </li>
</ul>
</li>
<li>
Redesigned main page to help new users find information </li>
<li>
Guides to creating new projects in <a class="el" href="_getting_started_new_p8.html">MPLAB 8</a> and <a class="el" href="_getting_started_new_p_x.html">MPLAB X</a> </li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="cl0100"></a>
Version 1.0 - First Public Release</h2>
<ul>
<li>64-Pin Device Support </li>
<li>HI-TECH 9.81 PRO Compiler Support </li>
<li>Comm/HardwareProfile update to support devices with &gt;1 UART modules </li>
<li>New MTOUCH_COMM_ASCII_READING and MTOUCH_COMM_ASCII_BASELINE configuration options to quickly adjust comm output </li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>mTouch Framework v2.3 documentation by&#160;
<a href="http://www.microchip.com"> 
<img class="footer" src="../includes/mchp.jpeg" alt="Click here to visit our website at www.microchip.com"/></a></small></address> 
</body> 
</html> 
